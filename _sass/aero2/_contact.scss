/* _sass/aero2/_contact.scss */
/* =========================================================
   Contact (cards-first, image as a real card)
   ========================================================= */

.rf-contact-head {
  margin-bottom: 12px;
}

/* =========================================================
   Contact grid (cards)
   ========================================================= */

.rf-contact-grid {
  display: grid;
  gap: 12px;

  /* Mobile-first */
  grid-template-columns: 1fr;
}

/* Desktop: 2-column card grid */
@media (min-width: 860px) {
  .rf-contact-grid {
    grid-template-columns: 1fr 1fr;
    align-items: stretch;
  }
}

/* =========================================================
   Card internal stability (matches recent-post cards)
   ========================================================= */

.rf-contact-card {
  display: flex;
  flex-direction: column;
  min-width: 0;
}

/* Let content grow naturally */
.rf-contact-card .rf-card-body {
  min-height: auto;
  display: block;
  flex: 1 1 auto;
}

/* Keep footer visually attached */
.rf-contact-card .rf-pricebar {
  margin-top: auto;
}

/* =========================================================
   Special layout rules
   ========================================================= */

/* Intro card spans full width on desktop */
@media (min-width: 860px) {
  .rf-contact-card--intro {
    grid-column: 1 / -1;
  }
}

/* Image card spans two rows ONLY when layout is roomy */
@media (min-width: 980px) {
  .rf-contact-card--image {
    grid-row: span 2;
  }
}

/* =========================================================
   Image / avatar card internals (FIXED + CENTERED)
   ========================================================= */

/* Stable avatar size */
.rf-contact-card--image {
  --avatar: clamp(150px, 18vw, 220px);
}

/* Center media block */
.rf-contact-media {
  margin: 0;
  display: grid;
  gap: 8px;
  align-items: center;
  justify-items: center;
  text-align: center;
}

/* The frame owns size, shape, and border */
.rf-contact-card--image .rf-contact-media > a {
  display: block;

  aspect-ratio: 1 / 1;

  border: 2px solid var(--rule);
  border-radius: 50%;
  background: var(--paper2);

  overflow: hidden;

  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,.35),
    0 1px 0 rgba(0,0,0,.06);
}

/* Image purely fills the frame */
.rf-contact-img {
  display: block;
  width: 100%;
  height: 100%;

  object-fit: cover;
  object-position: 50% 50%;

  border: 0;
  border-radius: 0;
  aspect-ratio: auto;
}

/* Caption styling */
.rf-contact-caption {
  margin: 0;
  max-width: 40ch;
  text-align: center;
  font-size: 12px;
  line-height: 1.35;
  color: var(--ink-soft);
}

/* =========================================================
   Blurb / text styles
   ========================================================= */

.rf-contact-blurb p {
  margin: 0 0 10px;
  max-width: 72ch;
  color: var(--ink-body);
  font-size: 15px;
  line-height: 1.55;
}

.rf-contact-blurb p:last-child {
  margin-bottom: 0;
}

/* Inline primary contact line */
.rf-contact-primary {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  align-items: baseline;
  margin: 10px 0 0;

  font-family: var(--font-mono);
  text-transform: uppercase;
  letter-spacing: .14em;
}

.rf-contact-primary-label {
  font-weight: 900;
  font-size: 11px;
  color: var(--ink-soft);
}

.rf-contact-primary-link {
  font-weight: 900;
  font-size: 11px;
  color: inherit;
  text-decoration: underline;
  text-decoration-thickness: 2px;
  overflow-wrap: anywhere;
  word-break: break-word;
}

/* Shared link styling */
.rf-contact-link {
  text-decoration: underline;
  text-decoration-thickness: 2px;
  word-break: break-word;
  overflow-wrap: anywhere;
}

.rf-contact-note {
  margin: 12px 0 0;
  max-width: 65ch;
  color: var(--ink-soft);
  font-style: italic;
}

/* =========================================================
   Contact page only
   ========================================================= */

.page-contact .rf-posthead,
.page-contact .rf-description {
  display: none;
  visibility: hidden;
}
/* Ensure grid items can stretch and cards can fill that height */
@media (min-width: 860px) {
  .rf-contact-grid {
    align-items: stretch;
  }
}

/* Card must be able to fill row height */
.rf-card.rf-contact-card {
  height: 100%;
  display: flex;
  flex-direction: column;
  min-width: 0;
}

/* IMPORTANT: .rf-card-body--post is defined elsewhere; re-assert flex growth here */
.rf-card.rf-contact-card > .rf-card-body.rf-card-body--post,
.rf-card.rf-contact-card > .rf-card-body {
  flex: 1 1 auto;
  min-height: 0;
}

/* Footer always sits at the bottom of the card */
.rf-card.rf-contact-card > .rf-pricebar {
  margin-top: auto;
}

/* Better center the avatar block inside the card body */
.rf-contact-card--image > .rf-card-body.rf-card-body--post {
  /* behave like a centered card stage */
  display: grid;
  place-items: center;
  text-align: center;

  /* give it breathing room and prevent caption from pushing awkwardly */
  padding-top: 14px;
  padding-bottom: 14px;
}

/* Keep the figure nicely centered and prevent caption from stretching layout */
.rf-contact-card--image .rf-contact-media {
  width: 100%;
  max-width: 42ch;
  justify-items: center;
}